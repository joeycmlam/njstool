Index: diagram/sample.dot
===================================================================
diff --git a/diagram/sample.dot b/diagram/sample.dot
deleted file mode 100644
--- a/diagram/sample.dot	(revision 0bed964e0bba04abc32f5760617710073a894448)
+++ /dev/null	(revision 0bed964e0bba04abc32f5760617710073a894448)
@@ -1,6 +0,0 @@
-digraph G {
-    A -> B;
-    B -> C;
-    C -> D;
-    D -> A;
-}
Index: .idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<project version=\"4\">\n  <component name=\"AutoImportSettings\">\n    <option name=\"autoReloadType\" value=\"SELECTIVE\" />\n  </component>\n  <component name=\"ChangeListManager\">\n    <list default=\"true\" id=\"6a030fe2-ff4b-4bbe-81c7-5e4be9c7b390\" name=\"Default Changelist\" comment=\"\">\n      <change afterPath=\"$PROJECT_DIR$/test/test-fee-engine/featues/step_definitions/holdingPeriod.steps.ts\" afterDir=\"false\" />\n      <change afterPath=\"$PROJECT_DIR$/test/test-fee-engine/featues/test.dsc.feature\" afterDir=\"false\" />\n      <change afterPath=\"$PROJECT_DIR$/test/test-fee-engine/featues/test.holdingPeriod.feature\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/workspace.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/src/app/app-fee-engine/DSCCalculator.ts\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/src/app/app-fee-engine/DSCCalculator.ts\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/src/app/app-fee-engine/app.fee.engine.ts\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/src/app/app-fee-engine/app.fee.engine.ts\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/src/app/app-fee-txn/app.fee.txn.ts\" beforeDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/src/app/app-fee/app.fee.ts\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/src/app/app-fee/app.fee.ts\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/test/test-json/features/test_data/out-1level.xlsx\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/test/test-json/features/test_data/out-1level.xlsx\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/test/test-json/features/test_data/out-2level.xlsx\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/test/test-json/features/test_data/out-2level.xlsx\" afterDir=\"false\" />\n    </list>\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\n  </component>\n  <component name=\"FileEditorManager\">\n    <leaf SIDE_TABS_SIZE_LIMIT_KEY=\"375\">\n      <file pinned=\"false\" current-in-tab=\"false\">\n        <entry file=\"file://$PROJECT_DIR$/package.json\">\n          <provider selected=\"true\" editor-type-id=\"text-editor\">\n            <state relative-caret-position=\"34\">\n              <caret line=\"2\" column=\"19\" selection-start-line=\"2\" selection-start-column=\"19\" selection-end-line=\"2\" selection-end-column=\"19\" />\n            </state>\n          </provider>\n        </entry>\n      </file>\n      <file pinned=\"false\" current-in-tab=\"false\">\n        <entry file=\"file://$PROJECT_DIR$/features/dataMask.feature\">\n          <provider selected=\"true\" editor-type-id=\"text-editor\">\n            <state relative-caret-position=\"714\">\n              <caret line=\"42\" column=\"33\" selection-start-line=\"42\" selection-start-column=\"33\" selection-end-line=\"42\" selection-end-column=\"33\" />\n            </state>\n          </provider>\n        </entry>\n      </file>\n      <file pinned=\"false\" current-in-tab=\"true\">\n        <entry file=\"file://$PROJECT_DIR$/src/app.ts\">\n          <provider selected=\"true\" editor-type-id=\"text-editor\" />\n        </entry>\n      </file>\n      <file pinned=\"false\" current-in-tab=\"false\">\n        <entry file=\"file://$PROJECT_DIR$/src/logwinston.ts\">\n          <provider selected=\"true\" editor-type-id=\"text-editor\">\n            <state relative-caret-position=\"867\">\n              <caret line=\"53\" column=\"38\" selection-start-line=\"53\" selection-start-column=\"38\" selection-end-line=\"53\" selection-end-column=\"38\" />\n              <folding>\n                <element signature=\"e#0#57#0\" expanded=\"true\" />\n              </folding>\n            </state>\n          </provider>\n        </entry>\n      </file>\n      <file pinned=\"false\" current-in-tab=\"false\">\n        <entry file=\"file://$PROJECT_DIR$/README.md\">\n          <provider selected=\"true\" editor-type-id=\"split-provider[text-editor;markdown-preview-editor]\">\n            <state split_layout=\"SPLIT\">\n              <first_editor relative-caret-position=\"153\">\n                <caret line=\"9\" selection-start-line=\"9\" selection-end-line=\"9\" />\n              </first_editor>\n              <second_editor />\n            </state>\n          </provider>\n        </entry>\n      </file>\n      <file pinned=\"false\" current-in-tab=\"false\">\n        <entry file=\"file://$PROJECT_DIR$/src/data-mask.ts\">\n          <provider selected=\"true\" editor-type-id=\"text-editor\">\n            <state relative-caret-position=\"51\">\n              <caret line=\"4\" selection-start-line=\"4\" selection-end-line=\"4\" />\n              <folding>\n                <element signature=\"e#0#40#0\" expanded=\"true\" />\n              </folding>\n            </state>\n          </provider>\n        </entry>\n      </file>\n      <file pinned=\"false\" current-in-tab=\"false\">\n        <entry file=\"file://$PROJECT_DIR$/features/test_data/test2.json\">\n          <provider selected=\"true\" editor-type-id=\"text-editor\">\n            <state relative-caret-position=\"340\">\n              <caret line=\"20\" column=\"3\" selection-start-line=\"20\" selection-start-column=\"3\" selection-end-line=\"20\" selection-end-column=\"3\" />\n            </state>\n          </provider>\n        </entry>\n      </file>\n    </leaf>\n  </component>\n  <component name=\"FileTemplateManagerImpl\">\n    <option name=\"RECENT_TEMPLATES\">\n      <list>\n        <option value=\"package.json\" />\n        <option value=\"JavaScript File\" />\n        <option value=\"tsconfig.json\" />\n        <option value=\"TypeScript File\" />\n      </list>\n    </option>\n  </component>\n  <component name=\"Git.Settings\">\n    <option name=\"RECENT_GIT_ROOT_PATH\" value=\"$PROJECT_DIR$\" />\n  </component>\n  <component name=\"IdeDocumentHistory\">\n    <option name=\"CHANGED_PATHS\">\n      <list>\n        <option value=\"$PROJECT_DIR$/src/logHelper.js\" />\n        <option value=\"$PROJECT_DIR$/src/main.js\" />\n        <option value=\"$PROJECT_DIR$/src/app.js\" />\n        <option value=\"$PROJECT_DIR$/logHelper.ts\" />\n        <option value=\"$PROJECT_DIR$/src/Counter.ts\" />\n        <option value=\"$PROJECT_DIR$/src/count.ts\" />\n        <option value=\"$PROJECT_DIR$/src/logger.ts\" />\n        <option value=\"$PROJECT_DIR$/logwinston.ts\" />\n        <option value=\"$PROJECT_DIR$/loglog4j\" />\n        <option value=\"$PROJECT_DIR$/logger.ts\" />\n        <option value=\"$PROJECT_DIR$/loglog4js.ts\" />\n        <option value=\"$PROJECT_DIR$/app.ts\" />\n        <option value=\"$PROJECT_DIR$/src/features/step_definitions/tree_steps.js\" />\n        <option value=\"$PROJECT_DIR$/src/features/step_definitions/test.steps.js\" />\n        <option value=\"$PROJECT_DIR$/src/features/step_definitions/dataMask.steps.ts\" />\n        <option value=\"$PROJECT_DIR$/src/features/step_definitions/dataMask.steps..js\" />\n        <option value=\"$PROJECT_DIR$/src/features/step_definitions/dataMask.steps.js\" />\n        <option value=\"$PROJECT_DIR$/src/features/step_definitions/dataMask.step.ts\" />\n        <option value=\"$PROJECT_DIR$/src/features/dataMask.feature\" />\n        <option value=\"$PROJECT_DIR$/src/features/test.feature\" />\n        <option value=\"$PROJECT_DIR$/src/features/step_definitions/test.steps.ts\" />\n        <option value=\"$PROJECT_DIR$/features/test.feature\" />\n        <option value=\"$PROJECT_DIR$/features/test_data/package.json\" />\n        <option value=\"$PROJECT_DIR$/features/test_data/test1.json\" />\n        <option value=\"$PROJECT_DIR$/features/test_data/test1_result.json\" />\n        <option value=\"$PROJECT_DIR$/runner.ts\" />\n        <option value=\"$PROJECT_DIR$/features/step_definitions/test.steps.ts\" />\n        <option value=\"$PROJECT_DIR$/tsconfig.json\" />\n        <option value=\"$PROJECT_DIR$/cucumber.js\" />\n        <option value=\"$PROJECT_DIR$/report-generator.ts\" />\n        <option value=\"$PROJECT_DIR$/src/loglog4js.ts\" />\n        <option value=\"$PROJECT_DIR$/src/dataMasker.ts\" />\n        <option value=\"$PROJECT_DIR$/src/data-masking.ts\" />\n        <option value=\"$PROJECT_DIR$/features/step_definitions/dataMask.steps.ts\" />\n        <option value=\"$PROJECT_DIR$/src/config.ts\" />\n        <option value=\"$PROJECT_DIR$/src/app.ts\" />\n        <option value=\"$PROJECT_DIR$/config.yaml\" />\n        <option value=\"$PROJECT_DIR$/features/test_data/test1_expected_result.json\" />\n        <option value=\"$PROJECT_DIR$/features/test_data/test2_expected_result.json\" />\n        <option value=\"$PROJECT_DIR$/features/test_data/test2.json\" />\n        <option value=\"$PROJECT_DIR$/features/dataMask.feature\" />\n        <option value=\"$PROJECT_DIR$/src/data-mask.ts\" />\n        <option value=\"$PROJECT_DIR$/src/custom-regexp-patterns.ts\" />\n        <option value=\"$PROJECT_DIR$/src/logwinston.ts\" />\n        <option value=\"$PROJECT_DIR$/README.md\" />\n        <option value=\"$PROJECT_DIR$/package.json\" />\n      </list>\n    </option>\n  </component>\n  <component name=\"MarkdownSettingsMigration\">\n    <option name=\"stateVersion\" value=\"1\" />\n  </component>\n  <component name=\"ProblemsViewState\">\n    <option name=\"selectedTabId\" value=\"CurrentFile\" />\n  </component>\n  <component name=\"ProjectFrameBounds\" extendedState=\"6\">\n    <option name=\"x\" value=\"1738\" />\n    <option name=\"y\" value=\"-338\" />\n    <option name=\"width\" value=\"1084\" />\n    <option name=\"height\" value=\"594\" />\n  </component>\n  <component name=\"ProjectId\" id=\"2O9JJSz0MbxM4ZyE5FKHIzrqlzR\" />\n  <component name=\"ProjectLevelVcsManager\" settingsEditedManually=\"true\" />\n  <component name=\"ProjectView\">\n    <navigator proportions=\"\" version=\"1\">\n      <foldersAlwaysOnTop value=\"true\" />\n    </navigator>\n    <panes>\n      <pane id=\"ProjectPane\">\n        <subPane>\n          <expand>\n            <path>\n              <item name=\"njstool\" type=\"b2602c69:ProjectViewProjectNode\" />\n              <item name=\"njstool\" type=\"462c0819:PsiDirectoryNode\" />\n            </path>\n            <path>\n              <item name=\"njstool\" type=\"b2602c69:ProjectViewProjectNode\" />\n              <item name=\"njstool\" type=\"462c0819:PsiDirectoryNode\" />\n              <item name=\"features\" type=\"462c0819:PsiDirectoryNode\" />\n            </path>\n            <path>\n              <item name=\"njstool\" type=\"b2602c69:ProjectViewProjectNode\" />\n              <item name=\"njstool\" type=\"462c0819:PsiDirectoryNode\" />\n              <item name=\"features\" type=\"462c0819:PsiDirectoryNode\" />\n              <item name=\"step_definitions\" type=\"462c0819:PsiDirectoryNode\" />\n            </path>\n            <path>\n              <item name=\"njstool\" type=\"b2602c69:ProjectViewProjectNode\" />\n              <item name=\"njstool\" type=\"462c0819:PsiDirectoryNode\" />\n              <item name=\"features\" type=\"462c0819:PsiDirectoryNode\" />\n              <item name=\"test_data\" type=\"462c0819:PsiDirectoryNode\" />\n            </path>\n            <path>\n              <item name=\"njstool\" type=\"b2602c69:ProjectViewProjectNode\" />\n              <item name=\"njstool\" type=\"462c0819:PsiDirectoryNode\" />\n              <item name=\"src\" type=\"462c0819:PsiDirectoryNode\" />\n            </path>\n          </expand>\n          <select />\n        </subPane>\n      </pane>\n      <pane id=\"Scope\" />\n    </panes>\n  </component>\n  <component name=\"ProjectViewState\">\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\n    <option name=\"showLibraryContents\" value=\"true\" />\n  </component>\n  <component name=\"PropertiesComponent\"><![CDATA[{\n  \"keyToString\": {\n    \"SHARE_PROJECT_CONFIGURATION_FILES\": \"true\",\n    \"ToolWindowCommit.ShowToolbar\": \"false\",\n    \"WebServerToolWindowFactoryState\": \"false\",\n    \"git-widget-placeholder\": \"main\",\n    \"javascript.nodejs.core.library.configured.version\": \"16.10.0\",\n    \"javascript.nodejs.core.library.typings.version\": \"16.10.0\",\n    \"js.last.introduce.type\": \"CONST\",\n    \"last_opened_file_path\": \"/Users/joeylam/repo/njs/njstool/src/app/app-fee-engine\",\n    \"node.js.detected.package.eslint\": \"true\",\n    \"node.js.selected.package.eslint\": \"(autodetect)\",\n    \"node.js.selected.package.tslint\": \"(autodetect)\",\n    \"nodejs.cucumber.cucumber_node_package_dir\": \"/Users/joeylam/repo/njs/njstool/node_modules/@cucumber/cucumber\",\n    \"nodejs.jest.jest_package\": \"/Users/joeylam/repo/njs/njstool/node_modules/jest\",\n    \"nodejs_package_manager_path\": \"npm\",\n    \"run.code.analysis.last.selected.profile\": \"pProject Default\",\n    \"ts.external.directory.path\": \"/Users/joeylam/repo/njs/njstool/node_modules/typescript/lib\",\n    \"vue.rearranger.settings.migration\": \"true\"\n  },\n  \"keyToStringList\": {\n    \"com.intellij.ide.scratch.ScratchImplUtil$2/New Scratch File\": [\n      \"TEXT\"\n    ]\n  }\n}]]></component>\n  <component name=\"RecentsManager\">\n    <key name=\"CopyFile.RECENT_KEYS\">\n      <recent name=\"$PROJECT_DIR$/src/app/app-fee-engine\" />\n      <recent name=\"$PROJECT_DIR$/diagram\" />\n      <recent name=\"$PROJECT_DIR$/test/test-rest/features/test_data\" />\n      <recent name=\"$PROJECT_DIR$/test/test-json/features/test_data\" />\n      <recent name=\"$PROJECT_DIR$/test\" />\n    </key>\n    <key name=\"MoveFile.RECENT_KEYS\">\n      <recent name=\"$PROJECT_DIR$/src/app\" />\n      <recent name=\"$PROJECT_DIR$/test/test-fee/features\" />\n      <recent name=\"$PROJECT_DIR$/test/test-fee/test-data\" />\n      <recent name=\"$PROJECT_DIR$/test/test-mask\" />\n      <recent name=\"$PROJECT_DIR$/src/app/app-mask\" />\n    </key>\n  </component>\n  <component name=\"RunManager\" selected=\"npm.start:fee-engine\">\n    <configuration name=\"app.fee.feature\" type=\"cucumber.js\" factoryName=\"Cucumber.js\">\n      <option name=\"myFilePath\" value=\"$PROJECT_DIR$/test/test-fee/features/app.fee.feature\" />\n      <option name=\"myNameFilter\" value=\"\" />\n      <option name=\"cucumberJsArguments\" value=\"--config test/cucumber.config.js \" />\n      <option name=\"workingDirectory\" value=\"$PROJECT_DIR$\" />\n      <method v=\"2\" />\n    </configuration>\n    <configuration name=\"docker-compose.yml: Compose Deployment\" type=\"docker-deploy\" factoryName=\"docker-compose.yml\">\n      <deployment type=\"docker-compose.yml\">\n        <settings>\n          <option name=\"sourceFilePath\" value=\"docker-compose.yml\" />\n        </settings>\n      </deployment>\n      <method v=\"2\" />\n    </configuration>\n    <configuration name=\"generate-cucumber-html\" type=\"js.build_tools.npm\" temporary=\"true\" nameIsGenerated=\"true\">\n      <package-json value=\"$PROJECT_DIR$/package.json\" />\n      <command value=\"run\" />\n      <scripts>\n        <script value=\"generate-cucumber-html\" />\n      </scripts>\n      <node-interpreter value=\"project\" />\n      <envs />\n      <method v=\"2\" />\n    </configuration>\n    <configuration name=\"merge-reports\" type=\"js.build_tools.npm\" temporary=\"true\" nameIsGenerated=\"true\">\n      <package-json value=\"$PROJECT_DIR$/package.json\" />\n      <command value=\"run\" />\n      <scripts>\n        <script value=\"merge-reports\" />\n      </scripts>\n      <node-interpreter value=\"project\" />\n      <envs />\n      <method v=\"2\" />\n    </configuration>\n    <configuration name=\"start:fee-engine\" type=\"js.build_tools.npm\" temporary=\"true\" nameIsGenerated=\"true\">\n      <package-json value=\"$PROJECT_DIR$/package.json\" />\n      <command value=\"run\" />\n      <scripts>\n        <script value=\"start:fee-engine\" />\n      </scripts>\n      <node-interpreter value=\"project\" />\n      <envs />\n      <method v=\"2\" />\n    </configuration>\n    <configuration name=\"start:fee\" type=\"js.build_tools.npm\" temporary=\"true\" nameIsGenerated=\"true\">\n      <package-json value=\"$PROJECT_DIR$/package.json\" />\n      <command value=\"run\" />\n      <scripts>\n        <script value=\"start:fee\" />\n      </scripts>\n      <node-interpreter value=\"project\" />\n      <envs />\n      <method v=\"2\" />\n    </configuration>\n    <configuration name=\"test\" type=\"js.build_tools.npm\" nameIsGenerated=\"true\">\n      <package-json value=\"$PROJECT_DIR$/package.json\" />\n      <command value=\"run\" />\n      <scripts>\n        <script value=\"test\" />\n      </scripts>\n      <node-interpreter value=\"project\" />\n      <envs />\n      <method v=\"2\" />\n    </configuration>\n    <configuration name=\"test:cucumber\" type=\"js.build_tools.npm\" temporary=\"true\" nameIsGenerated=\"true\">\n      <package-json value=\"$PROJECT_DIR$/package.json\" />\n      <command value=\"run\" />\n      <scripts>\n        <script value=\"test:cucumber\" />\n      </scripts>\n      <node-interpreter value=\"project\" />\n      <envs />\n      <method v=\"2\" />\n    </configuration>\n    <list>\n      <item itemvalue=\"Cucumber.js.app.fee.feature\" />\n      <item itemvalue=\"Docker.docker-compose.yml: Compose Deployment\" />\n      <item itemvalue=\"npm.test\" />\n      <item itemvalue=\"npm.merge-reports\" />\n      <item itemvalue=\"npm.start:fee-engine\" />\n      <item itemvalue=\"npm.generate-cucumber-html\" />\n      <item itemvalue=\"npm.start:fee\" />\n      <item itemvalue=\"npm.test:cucumber\" />\n    </list>\n    <recent_temporary>\n      <list>\n        <item itemvalue=\"npm.start:fee-engine\" />\n        <item itemvalue=\"npm.merge-reports\" />\n        <item itemvalue=\"npm.generate-cucumber-html\" />\n        <item itemvalue=\"npm.test:cucumber\" />\n        <item itemvalue=\"npm.start:fee\" />\n      </list>\n    </recent_temporary>\n  </component>\n  <component name=\"SpellCheckerSettings\" RuntimeDictionaries=\"0\" Folders=\"0\" CustomDictionaries=\"0\" DefaultDictionary=\"application-level\" UseSingleDictionary=\"true\" transferred=\"true\" />\n  <component name=\"SvnConfiguration\">\n    <configuration />\n  </component>\n  <component name=\"TaskManager\">\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\n      <changelist id=\"6a030fe2-ff4b-4bbe-81c7-5e4be9c7b390\" name=\"Default Changelist\" comment=\"\" />\n      <created>1680346279981</created>\n      <option name=\"number\" value=\"Default\" />\n      <option name=\"presentableId\" value=\"Default\" />\n      <updated>1680346279981</updated>\n      <workItem from=\"1680346281952\" duration=\"12076000\" />\n      <workItem from=\"1680425323144\" duration=\"6629000\" />\n      <workItem from=\"1680664472843\" duration=\"25023000\" />\n      <workItem from=\"1680855036971\" duration=\"8714000\" />\n      <workItem from=\"1680876241351\" duration=\"9297000\" />\n      <workItem from=\"1680924004184\" duration=\"4567000\" />\n      <workItem from=\"1680966425769\" duration=\"40000\" />\n      <workItem from=\"1680966793876\" duration=\"876000\" />\n      <workItem from=\"1680968116183\" duration=\"451000\" />\n      <workItem from=\"1681132999786\" duration=\"4000\" />\n      <workItem from=\"1681545466354\" duration=\"1539000\" />\n      <workItem from=\"1682131744111\" duration=\"14445000\" />\n      <workItem from=\"1682180289830\" duration=\"1091000\" />\n      <workItem from=\"1682694993348\" duration=\"52150000\" />\n      <workItem from=\"1682908619281\" duration=\"1876000\" />\n      <workItem from=\"1683345322269\" duration=\"9112000\" />\n      <workItem from=\"1683363925693\" duration=\"599000\" />\n      <workItem from=\"1683377776997\" duration=\"4534000\" />\n      <workItem from=\"1683443486838\" duration=\"1849000\" />\n      <workItem from=\"1683449466596\" duration=\"206000\" />\n      <workItem from=\"1683993096777\" duration=\"1611000\" />\n      <workItem from=\"1683994991643\" duration=\"114000\" />\n      <workItem from=\"1683995114112\" duration=\"3783000\" />\n      <workItem from=\"1684122265296\" duration=\"24053000\" />\n      <workItem from=\"1684512519993\" duration=\"6255000\" />\n      <workItem from=\"1684662331021\" duration=\"1070000\" />\n      <workItem from=\"1685159245690\" duration=\"10694000\" />\n      <workItem from=\"1685190663588\" duration=\"17597000\" />\n      <workItem from=\"1685245797890\" duration=\"25648000\" />\n      <workItem from=\"1685721808650\" duration=\"556000\" />\n      <workItem from=\"1685799269019\" duration=\"13330000\" />\n      <workItem from=\"1687008293893\" duration=\"2420000\" />\n      <workItem from=\"1687406905826\" duration=\"1199000\" />\n      <workItem from=\"1688802939352\" duration=\"81000\" />\n      <workItem from=\"1688832310145\" duration=\"13815000\" />\n    </task>\n    <task id=\"LOCAL-00081\" summary=\"improve the log file name\">\n      <created>1684152044204</created>\n      <option name=\"number\" value=\"00081\" />\n      <option name=\"presentableId\" value=\"LOCAL-00081\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1684152044204</updated>\n    </task>\n    <task id=\"LOCAL-00082\" summary=\"improvver logger\">\n      <created>1684152075146</created>\n      <option name=\"number\" value=\"00082\" />\n      <option name=\"presentableId\" value=\"LOCAL-00082\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1684152075146</updated>\n    </task>\n    <task id=\"LOCAL-00083\" summary=\"run concurrrent\">\n      <created>1684152559994</created>\n      <option name=\"number\" value=\"00083\" />\n      <option name=\"presentableId\" value=\"LOCAL-00083\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1684152559994</updated>\n    </task>\n    <task id=\"LOCAL-00084\" summary=\"reflector to allow plug into different Uploader\">\n      <created>1684155750082</created>\n      <option name=\"number\" value=\"00084\" />\n      <option name=\"presentableId\" value=\"LOCAL-00084\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1684155750082</updated>\n    </task>\n    <task id=\"LOCAL-00085\" summary=\"reflector to use dependency injection to allow plug into different reader\">\n      <created>1684156480812</created>\n      <option name=\"number\" value=\"00085\" />\n      <option name=\"presentableId\" value=\"LOCAL-00085\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1684156480812</updated>\n    </task>\n    <task id=\"LOCAL-00086\" summary=\"add comment\">\n      <created>1684156599403</created>\n      <option name=\"number\" value=\"00086\" />\n      <option name=\"presentableId\" value=\"LOCAL-00086\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1684156599403</updated>\n    </task>\n    <task id=\"LOCAL-00087\" summary=\"fix the debug msg\">\n      <created>1684157319852</created>\n      <option name=\"number\" value=\"00087\" />\n      <option name=\"presentableId\" value=\"LOCAL-00087\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1684157319852</updated>\n    </task>\n    <task id=\"LOCAL-00088\" summary=\"reflector to support row by row and bulk\">\n      <created>1684162447334</created>\n      <option name=\"number\" value=\"00088\" />\n      <option name=\"presentableId\" value=\"LOCAL-00088\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1684162447334</updated>\n    </task>\n    <task id=\"LOCAL-00089\" summary=\"outstanding bug\">\n      <created>1684163108216</created>\n      <option name=\"number\" value=\"00089\" />\n      <option name=\"presentableId\" value=\"LOCAL-00089\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1684163108216</updated>\n    </task>\n    <task id=\"LOCAL-00090\" summary=\"fee calculator\">\n      <created>1684518424167</created>\n      <option name=\"number\" value=\"00090\" />\n      <option name=\"presentableId\" value=\"LOCAL-00090\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1684518424167</updated>\n    </task>\n    <task id=\"LOCAL-00091\" summary=\"fee calculator\">\n      <created>1684518459604</created>\n      <option name=\"number\" value=\"00091\" />\n      <option name=\"presentableId\" value=\"LOCAL-00091\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1684518459605</updated>\n    </task>\n    <task id=\"LOCAL-00092\" summary=\"fix cucumber test\">\n      <created>1685172515057</created>\n      <option name=\"number\" value=\"00092\" />\n      <option name=\"presentableId\" value=\"LOCAL-00092\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1685172515058</updated>\n    </task>\n    <task id=\"LOCAL-00093\" summary=\"fix cucumber test\">\n      <created>1685174150831</created>\n      <option name=\"number\" value=\"00093\" />\n      <option name=\"presentableId\" value=\"LOCAL-00093\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1685174150831</updated>\n    </task>\n    <task id=\"LOCAL-00094\" summary=\"fix the cucumber test - failed to use customize class\">\n      <created>1685195858534</created>\n      <option name=\"number\" value=\"00094\" />\n      <option name=\"presentableId\" value=\"LOCAL-00094\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1685195858534</updated>\n    </task>\n    <task id=\"LOCAL-00095\" summary=\"reflector the feature test\">\n      <created>1685196079722</created>\n      <option name=\"number\" value=\"00095\" />\n      <option name=\"presentableId\" value=\"LOCAL-00095\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1685196079722</updated>\n    </task>\n    <task id=\"LOCAL-00096\" summary=\"reflector the feature test\">\n      <created>1685196465104</created>\n      <option name=\"number\" value=\"00096\" />\n      <option name=\"presentableId\" value=\"LOCAL-00096\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1685196465104</updated>\n    </task>\n    <task id=\"LOCAL-00097\" summary=\"reflector the feature test\">\n      <created>1685197354559</created>\n      <option name=\"number\" value=\"00097\" />\n      <option name=\"presentableId\" value=\"LOCAL-00097\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1685197354559</updated>\n    </task>\n    <task id=\"LOCAL-00098\" summary=\"fix the synatx and run time issue\">\n      <created>1685198116516</created>\n      <option name=\"number\" value=\"00098\" />\n      <option name=\"presentableId\" value=\"LOCAL-00098\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1685198116516</updated>\n    </task>\n    <task id=\"LOCAL-00099\" summary=\"add more test cases\">\n      <created>1685198259323</created>\n      <option name=\"number\" value=\"00099\" />\n      <option name=\"presentableId\" value=\"LOCAL-00099\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1685198259323</updated>\n    </task>\n    <task id=\"LOCAL-00100\" summary=\"reflector\">\n      <created>1685198767179</created>\n      <option name=\"number\" value=\"00100\" />\n      <option name=\"presentableId\" value=\"LOCAL-00100\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1685198767179</updated>\n    </task>\n    <task id=\"LOCAL-00101\" summary=\"reflector\">\n      <created>1685199537962</created>\n      <option name=\"number\" value=\"00101\" />\n      <option name=\"presentableId\" value=\"LOCAL-00101\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1685199537962</updated>\n    </task>\n    <task id=\"LOCAL-00102\" summary=\"reflector\">\n      <created>1685203513727</created>\n      <option name=\"number\" value=\"00102\" />\n      <option name=\"presentableId\" value=\"LOCAL-00102\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1685203513727</updated>\n    </task>\n    <task id=\"LOCAL-00103\" summary=\"add new feeCal function.\">\n      <created>1685207948801</created>\n      <option name=\"number\" value=\"00103\" />\n      <option name=\"presentableId\" value=\"LOCAL-00103\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1685207948801</updated>\n    </task>\n    <task id=\"LOCAL-00104\" summary=\"fix the syntax error\">\n      <created>1685209809291</created>\n      <option name=\"number\" value=\"00104\" />\n      <option name=\"presentableId\" value=\"LOCAL-00104\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1685209809291</updated>\n    </task>\n    <task id=\"LOCAL-00105\" summary=\"fix the reading excel function\">\n      <created>1685247358785</created>\n      <option name=\"number\" value=\"00105\" />\n      <option name=\"presentableId\" value=\"LOCAL-00105\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1685247358785</updated>\n    </task>\n    <task id=\"LOCAL-00106\" summary=\"reflector to change tradeDate from string to Date\">\n      <created>1685247671177</created>\n      <option name=\"number\" value=\"00106\" />\n      <option name=\"presentableId\" value=\"LOCAL-00106\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1685247671177</updated>\n    </task>\n    <task id=\"LOCAL-00107\" summary=\"new function\">\n      <created>1685261930448</created>\n      <option name=\"number\" value=\"00107\" />\n      <option name=\"presentableId\" value=\"LOCAL-00107\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1685261930448</updated>\n    </task>\n    <task id=\"LOCAL-00108\" summary=\"add new test cases.\">\n      <created>1685265088932</created>\n      <option name=\"number\" value=\"00108\" />\n      <option name=\"presentableId\" value=\"LOCAL-00108\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1685265088932</updated>\n    </task>\n    <task id=\"LOCAL-00109\" summary=\"add new test cases.\">\n      <created>1685267412687</created>\n      <option name=\"number\" value=\"00109\" />\n      <option name=\"presentableId\" value=\"LOCAL-00109\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1685267412687</updated>\n    </task>\n    <task id=\"LOCAL-00110\" summary=\"reflector for performance.\">\n      <created>1685274040590</created>\n      <option name=\"number\" value=\"00110\" />\n      <option name=\"presentableId\" value=\"LOCAL-00110\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1685274040590</updated>\n    </task>\n    <task id=\"LOCAL-00111\" summary=\"reflector\">\n      <created>1685282101325</created>\n      <option name=\"number\" value=\"00111\" />\n      <option name=\"presentableId\" value=\"LOCAL-00111\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1685282101325</updated>\n    </task>\n    <task id=\"LOCAL-00112\" summary=\"rulesLoader.ts for defining the fee tiers.\">\n      <created>1685800144271</created>\n      <option name=\"number\" value=\"00112\" />\n      <option name=\"presentableId\" value=\"LOCAL-00112\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1685800144271</updated>\n    </task>\n    <task id=\"LOCAL-00113\" summary=\"enhance to base on aum to calculate the fee\">\n      <created>1685804847360</created>\n      <option name=\"number\" value=\"00113\" />\n      <option name=\"presentableId\" value=\"LOCAL-00113\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1685804847360</updated>\n    </task>\n    <task id=\"LOCAL-00114\" summary=\"reflector\">\n      <created>1685805502962</created>\n      <option name=\"number\" value=\"00114\" />\n      <option name=\"presentableId\" value=\"LOCAL-00114\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1685805502962</updated>\n    </task>\n    <task id=\"LOCAL-00115\" summary=\"reflector to create transactionLoader\">\n      <created>1685806605981</created>\n      <option name=\"number\" value=\"00115\" />\n      <option name=\"presentableId\" value=\"LOCAL-00115\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1685806605981</updated>\n    </task>\n    <task id=\"LOCAL-00116\" summary=\"fix feature test\">\n      <created>1685808889187</created>\n      <option name=\"number\" value=\"00116\" />\n      <option name=\"presentableId\" value=\"LOCAL-00116\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1685808889187</updated>\n    </task>\n    <task id=\"LOCAL-00117\" summary=\"adjust the rate\">\n      <created>1685808987446</created>\n      <option name=\"number\" value=\"00117\" />\n      <option name=\"presentableId\" value=\"LOCAL-00117\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1685808987446</updated>\n    </task>\n    <task id=\"LOCAL-00118\" summary=\"adjust default rates\">\n      <created>1685809075400</created>\n      <option name=\"number\" value=\"00118\" />\n      <option name=\"presentableId\" value=\"LOCAL-00118\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1685809075400</updated>\n    </task>\n    <task id=\"LOCAL-00119\" summary=\"revised the error message.\">\n      <created>1685809154521</created>\n      <option name=\"number\" value=\"00119\" />\n      <option name=\"presentableId\" value=\"LOCAL-00119\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1685809154521</updated>\n    </task>\n    <task id=\"LOCAL-00120\" summary=\"change the default\">\n      <created>1685809242103</created>\n      <option name=\"number\" value=\"00120\" />\n      <option name=\"presentableId\" value=\"LOCAL-00120\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1685809242103</updated>\n    </task>\n    <task id=\"LOCAL-00121\" summary=\"fix number of year calculation and the test scenario\">\n      <created>1685811081016</created>\n      <option name=\"number\" value=\"00121\" />\n      <option name=\"presentableId\" value=\"LOCAL-00121\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1685811081016</updated>\n    </task>\n    <task id=\"LOCAL-00122\" summary=\"new features\">\n      <created>1687012893666</created>\n      <option name=\"number\" value=\"00122\" />\n      <option name=\"presentableId\" value=\"LOCAL-00122\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1687012893667</updated>\n    </task>\n    <task id=\"LOCAL-00123\" summary=\"new feature - fee engine.\">\n      <created>1688833294779</created>\n      <option name=\"number\" value=\"00123\" />\n      <option name=\"presentableId\" value=\"LOCAL-00123\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1688833294779</updated>\n    </task>\n    <task id=\"LOCAL-00124\" summary=\"add enum\">\n      <created>1688838138773</created>\n      <option name=\"number\" value=\"00124\" />\n      <option name=\"presentableId\" value=\"LOCAL-00124\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1688838138773</updated>\n    </task>\n    <task id=\"LOCAL-00125\" summary=\"reivse the calcuation\">\n      <created>1688839679338</created>\n      <option name=\"number\" value=\"00125\" />\n      <option name=\"presentableId\" value=\"LOCAL-00125\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1688839679338</updated>\n    </task>\n    <task id=\"LOCAL-00126\" summary=\"add more logging\">\n      <created>1688841119533</created>\n      <option name=\"number\" value=\"00126\" />\n      <option name=\"presentableId\" value=\"LOCAL-00126\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1688841119533</updated>\n    </task>\n    <task id=\"LOCAL-00127\" summary=\"add deducedUnits to show the pass-in deduction.\">\n      <created>1688842725378</created>\n      <option name=\"number\" value=\"00127\" />\n      <option name=\"presentableId\" value=\"LOCAL-00127\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1688842725378</updated>\n    </task>\n    <task id=\"LOCAL-00128\" summary=\"code reflector to separate the type and enum to another files\">\n      <created>1688844336534</created>\n      <option name=\"number\" value=\"00128\" />\n      <option name=\"presentableId\" value=\"LOCAL-00128\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1688844336534</updated>\n    </task>\n    <task id=\"LOCAL-00129\" summary=\"code reflector to include txn details in DSCCalculator.ts\">\n      <created>1688844856713</created>\n      <option name=\"number\" value=\"00129\" />\n      <option name=\"presentableId\" value=\"LOCAL-00129\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1688844856713</updated>\n    </task>\n    <option name=\"localTasksCounter\" value=\"130\" />\n    <servers />\n  </component>\n  <component name=\"TimeTrackingManager\">\n    <option name=\"totallyTimeSpent\" value=\"67367000\" />\n  </component>\n  <component name=\"ToolWindowManager\">\n    <frame x=\"1440\" y=\"-515\" width=\"2048\" height=\"1055\" extended-state=\"6\" />\n    <layout>\n      <window_info content_ui=\"combo\" id=\"Project\" order=\"0\" sideWeight=\"0.4989775\" visible=\"true\" weight=\"0.18366337\" />\n      <window_info id=\"Structure\" order=\"1\" side_tool=\"true\" weight=\"0.25\" />\n      <window_info id=\"npm\" order=\"2\" sideWeight=\"0.5010225\" side_tool=\"true\" weight=\"0.2174221\" />\n      <window_info id=\"Favorites\" order=\"3\" side_tool=\"true\" />\n      <window_info anchor=\"bottom\" id=\"Message\" order=\"0\" />\n      <window_info anchor=\"bottom\" id=\"Find\" order=\"1\" />\n      <window_info anchor=\"bottom\" id=\"Run\" order=\"2\" sideWeight=\"0.58366334\" weight=\"0.23076923\" />\n      <window_info anchor=\"bottom\" id=\"Debug\" order=\"3\" sideWeight=\"0.6282178\" weight=\"0.3985043\" />\n      <window_info anchor=\"bottom\" id=\"Cvs\" order=\"4\" weight=\"0.25\" />\n      <window_info anchor=\"bottom\" id=\"Inspection\" order=\"5\" weight=\"0.4\" />\n      <window_info anchor=\"bottom\" id=\"TODO\" order=\"6\" />\n      <window_info anchor=\"bottom\" id=\"Docker\" order=\"7\" show_stripe_button=\"false\" />\n      <window_info anchor=\"bottom\" id=\"Version Control\" order=\"8\" />\n      <window_info anchor=\"bottom\" id=\"GraphQL\" order=\"9\" />\n      <window_info active=\"true\" anchor=\"bottom\" id=\"TypeScript\" order=\"10\" sideWeight=\"0.49455446\" visible=\"true\" weight=\"0.3258547\" />\n      <window_info anchor=\"bottom\" id=\"Event Log\" order=\"11\" sideWeight=\"0.50544554\" side_tool=\"true\" visible=\"true\" weight=\"0.3258547\" />\n      <window_info anchor=\"bottom\" id=\"Terminal\" order=\"12\" sideWeight=\"0.47308782\" weight=\"0.26756352\" />\n      <window_info anchor=\"right\" id=\"Commander\" internal_type=\"SLIDING\" order=\"0\" type=\"SLIDING\" weight=\"0.4\" />\n      <window_info anchor=\"right\" id=\"Ant Build\" order=\"1\" weight=\"0.25\" />\n      <window_info anchor=\"right\" content_ui=\"combo\" id=\"Hierarchy\" order=\"2\" weight=\"0.25\" />\n    </layout>\n  </component>\n  <component name=\"TypeScriptGeneratedFilesManager\">\n    <option name=\"version\" value=\"3\" />\n  </component>\n  <component name=\"VcsManagerConfiguration\">\n    <MESSAGE value=\"add new feeCal function.\" />\n    <MESSAGE value=\"fix the syntax error\" />\n    <MESSAGE value=\"fix the reading excel function\" />\n    <MESSAGE value=\"reflector to change tradeDate from string to Date\" />\n    <MESSAGE value=\"new function\" />\n    <MESSAGE value=\"add new test cases.\" />\n    <MESSAGE value=\"reflector for performance.\" />\n    <MESSAGE value=\"rulesLoader.ts for defining the fee tiers.\" />\n    <MESSAGE value=\"enhance to base on aum to calculate the fee\" />\n    <MESSAGE value=\"reflector\" />\n    <MESSAGE value=\"reflector to create transactionLoader\" />\n    <MESSAGE value=\"fix feature test\" />\n    <MESSAGE value=\"adjust the rate\" />\n    <MESSAGE value=\"adjust default rates\" />\n    <MESSAGE value=\"revised the error message.\" />\n    <MESSAGE value=\"change the default\" />\n    <MESSAGE value=\"fix number of year calculation and the test scenario\" />\n    <MESSAGE value=\"new features\" />\n    <MESSAGE value=\"new feature - fee engine.\" />\n    <MESSAGE value=\"add enum\" />\n    <MESSAGE value=\"reivse the calcuation\" />\n    <MESSAGE value=\"add more logging\" />\n    <MESSAGE value=\"add deducedUnits to show the pass-in deduction.\" />\n    <MESSAGE value=\"code reflector to separate the type and enum to another files\" />\n    <MESSAGE value=\"code reflector to include txn details in DSCCalculator.ts\" />\n    <option name=\"LAST_COMMIT_MESSAGE\" value=\"code reflector to include txn details in DSCCalculator.ts\" />\n  </component>\n  <component name=\"XDebuggerManager\">\n    <breakpoint-manager>\n      <breakpoints>\n        <line-breakpoint enabled=\"true\" type=\"javascript\">\n          <url>file://$PROJECT_DIR$/src/app/app-mask/jl-log4js.ts</url>\n          <line>35</line>\n          <option name=\"timeStamp\" value=\"2\" />\n        </line-breakpoint>\n        <line-breakpoint enabled=\"true\" type=\"javascript\">\n          <url>file://$PROJECT_DIR$/test/test-mask/features/step_definitions/dataMask.steps.ts</url>\n          <line>32</line>\n          <option name=\"timeStamp\" value=\"3\" />\n        </line-breakpoint>\n        <line-breakpoint enabled=\"true\" type=\"javascript\">\n          <url>file://$PROJECT_DIR$/src/app/app-json/jsonHelper.ts</url>\n          <line>16</line>\n          <option name=\"timeStamp\" value=\"18\" />\n        </line-breakpoint>\n        <line-breakpoint enabled=\"true\" type=\"javascript\">\n          <url>mock://file:///Users/joeylam/repo/njs/njstool/src/app/app-json/jsonHelper.ts</url>\n          <line>60</line>\n          <option name=\"timeStamp\" value=\"21\" />\n        </line-breakpoint>\n        <line-breakpoint enabled=\"true\" type=\"javascript\">\n          <url>mock://file:///Users/joeylam/repo/njs/njstool/src/app/app-json/jsonHelper.ts</url>\n          <line>106</line>\n          <option name=\"timeStamp\" value=\"22\" />\n        </line-breakpoint>\n        <line-breakpoint enabled=\"true\" type=\"javascript\">\n          <url>mock://file:///Users/joeylam/repo/njs/njstool/src/app/app-json/jsonHelper.ts</url>\n          <line>107</line>\n          <option name=\"timeStamp\" value=\"24\" />\n        </line-breakpoint>\n        <line-breakpoint enabled=\"true\" type=\"javascript\">\n          <url>mock://file:///Users/joeylam/repo/njs/njstool/test/test-json/features/step_definitions/json.steps.ts</url>\n          <line>71</line>\n          <option name=\"timeStamp\" value=\"28\" />\n        </line-breakpoint>\n        <line-breakpoint enabled=\"true\" type=\"javascript\">\n          <url>file://$PROJECT_DIR$/src/app/app-json/app.json.ts</url>\n          <line>14</line>\n          <option name=\"timeStamp\" value=\"31\" />\n        </line-breakpoint>\n        <line-breakpoint enabled=\"true\" type=\"javascript\">\n          <url>file://$PROJECT_DIR$/src/app/app-mask/app.mask.ts</url>\n          <line>23</line>\n          <option name=\"timeStamp\" value=\"32\" />\n        </line-breakpoint>\n        <line-breakpoint enabled=\"true\" type=\"javascript\">\n          <url>file://$PROJECT_DIR$/src/app/lib/postgresUploader.ts</url>\n          <line>44</line>\n          <option name=\"timeStamp\" value=\"36\" />\n        </line-breakpoint>\n        <line-breakpoint enabled=\"true\" type=\"javascript\">\n          <url>mock://file:///Users/joeylam/repo/njs/njstool/test/test-fee/features/step_definitions/fee.steps.ts</url>\n          <line>63</line>\n          <option name=\"timeStamp\" value=\"43\" />\n        </line-breakpoint>\n        <line-breakpoint enabled=\"true\" type=\"javascript\">\n          <url>file://$PROJECT_DIR$/src/app/app-fee/app.fee.ts</url>\n          <line>49</line>\n          <option name=\"timeStamp\" value=\"62\" />\n        </line-breakpoint>\n        <line-breakpoint enabled=\"true\" type=\"javascript\">\n          <url>file://$PROJECT_DIR$/test/test-fee/features/step_definitions/fee.steps.ts</url>\n          <line>61</line>\n          <option name=\"timeStamp\" value=\"63\" />\n        </line-breakpoint>\n        <line-breakpoint enabled=\"true\" type=\"javascript\">\n          <url>file://$PROJECT_DIR$/src/app/app-fee/app.fee.ts</url>\n          <line>64</line>\n          <option name=\"timeStamp\" value=\"64\" />\n        </line-breakpoint>\n        <line-breakpoint enabled=\"true\" type=\"javascript\">\n          <url>file://$PROJECT_DIR$/src/app/app-fee/feeCalculator.ts</url>\n          <line>122</line>\n          <option name=\"timeStamp\" value=\"65\" />\n        </line-breakpoint>\n      </breakpoints>\n    </breakpoint-manager>\n    <watches-manager>\n      <configuration name=\"js.build_tools.npm\">\n        <watch expression=\"data\" />\n      </configuration>\n    </watches-manager>\n  </component>\n  <component name=\"editorHistoryManager\">\n    <entry file=\"file://$PROJECT_DIR$/src/main.js\" />\n    <entry file=\"file://$PROJECT_DIR$/src/app.js\" />\n    <entry file=\"file://$PROJECT_DIR$/src/logHelper.js\" />\n    <entry file=\"file://$PROJECT_DIR$/src/Counter.ts\" />\n    <entry file=\"file://$PROJECT_DIR$/logHelper.ts\" />\n    <entry file=\"file://$PROJECT_DIR$/logs/app.log\">\n      <provider editor-type-id=\"text-editor\" />\n      <provider selected=\"true\" editor-type-id=\"LogFileEditorProvider\" />\n    </entry>\n    <entry file=\"file://$PROJECT_DIR$/output.txt\" />\n    <entry file=\"file://$PROJECT_DIR$/src/features/greeter.feature\" />\n    <entry file=\"file://$PROJECT_DIR$/src/greeter.js\" />\n    <entry file=\"file://$PROJECT_DIR$/src/features/step_definitions/greeting_steps.js\" />\n    <entry file=\"file://$PROJECT_DIR$/src/tree.js\" />\n    <entry file=\"file://$PROJECT_DIR$/src/features/tree.feature\" />\n    <entry file=\"file://$PROJECT_DIR$/src/features/step_definitions/tree_steps.js\" />\n    <entry file=\"file://$PROJECT_DIR$/node_modules/.bin/cucumber-js\">\n      <provider selected=\"true\" editor-type-id=\"text-editor\" />\n    </entry>\n    <entry file=\"file://$PROJECT_DIR$/src/features/step_definitions/dataMask.steps.js\" />\n    <entry file=\"file://$PROJECT_DIR$/features/test_data/package.json\" />\n    <entry file=\"file://$PROJECT_DIR$/node_modules/typescript/lib/lib.decorators.d.ts\">\n      <provider selected=\"true\" editor-type-id=\"text-editor\">\n        <state relative-caret-position=\"150\">\n          <caret line=\"42\" column=\"49\" selection-start-line=\"42\" selection-start-column=\"49\" selection-end-line=\"42\" selection-end-column=\"49\" />\n        </state>\n      </provider>\n    </entry>\n    <entry file=\"file://$PROJECT_DIR$/runner.ts\" />\n    <entry file=\"file://$PROJECT_DIR$/features/step_definitions/test.steps.ts\">\n      <provider selected=\"true\" editor-type-id=\"text-editor\">\n        <state relative-caret-position=\"347\">\n          <caret line=\"41\" selection-start-line=\"41\" selection-end-line=\"41\" />\n          <folding>\n            <element signature=\"e#0#60#0\" expanded=\"true\" />\n          </folding>\n        </state>\n      </provider>\n    </entry>\n    <entry file=\"file://$PROJECT_DIR$/report-generator.ts\">\n      <provider selected=\"true\" editor-type-id=\"text-editor\">\n        <state relative-caret-position=\"85\">\n          <caret line=\"5\" column=\"15\" selection-start-line=\"5\" selection-start-column=\"15\" selection-end-line=\"5\" selection-end-column=\"15\" />\n        </state>\n      </provider>\n    </entry>\n    <entry file=\"file://$PROJECT_DIR$/tsconfig.json\">\n      <provider selected=\"true\" editor-type-id=\"text-editor\">\n        <state relative-caret-position=\"68\">\n          <caret line=\"4\" column=\"22\" selection-start-line=\"4\" selection-start-column=\"22\" selection-end-line=\"4\" selection-end-column=\"22\" />\n        </state>\n      </provider>\n    </entry>\n    <entry file=\"file://$PROJECT_DIR$/cucumber.js\">\n      <provider selected=\"true\" editor-type-id=\"text-editor\">\n        <state relative-caret-position=\"153\">\n          <caret line=\"9\" selection-start-line=\"9\" selection-end-line=\"9\" />\n        </state>\n      </provider>\n    </entry>\n    <entry file=\"file://$PROJECT_DIR$/src/loglog4js.ts\">\n      <provider selected=\"true\" editor-type-id=\"text-editor\">\n        <state>\n          <caret lean-forward=\"true\" />\n          <folding>\n            <element signature=\"e#0#33#0\" expanded=\"true\" />\n          </folding>\n        </state>\n      </provider>\n    </entry>\n    <entry file=\"file://$PROJECT_DIR$/src/count.ts\">\n      <provider selected=\"true\" editor-type-id=\"text-editor\">\n        <state relative-caret-position=\"221\">\n          <caret line=\"13\" selection-start-line=\"13\" selection-end-line=\"13\" />\n        </state>\n      </provider>\n    </entry>\n    <entry file=\"file://$PROJECT_DIR$/features/test.feature\">\n      <provider selected=\"true\" editor-type-id=\"text-editor\">\n        <state relative-caret-position=\"272\">\n          <caret line=\"16\" selection-start-line=\"16\" selection-end-line=\"16\" />\n        </state>\n      </provider>\n    </entry>\n    <entry file=\"file://$PROJECT_DIR$/features/step_definitions/dataMask.steps.ts\">\n      <provider selected=\"true\" editor-type-id=\"text-editor\">\n        <state relative-caret-position=\"461\">\n          <caret line=\"40\" column=\"51\" selection-start-line=\"40\" selection-start-column=\"51\" selection-end-line=\"40\" selection-end-column=\"51\" />\n          <folding>\n            <element signature=\"e#0#60#0\" expanded=\"true\" />\n          </folding>\n        </state>\n      </provider>\n    </entry>\n    <entry file=\"file://$PROJECT_DIR$/features/test_data/test1.json\">\n      <provider selected=\"true\" editor-type-id=\"text-editor\">\n        <state relative-caret-position=\"119\">\n          <caret line=\"7\" lean-forward=\"true\" selection-start-line=\"7\" selection-end-line=\"7\" />\n        </state>\n      </provider>\n    </entry>\n    <entry file=\"file://$PROJECT_DIR$/src/config.ts\">\n      <provider selected=\"true\" editor-type-id=\"text-editor\">\n        <state relative-caret-position=\"34\">\n          <caret line=\"2\" lean-forward=\"true\" selection-start-line=\"2\" selection-end-line=\"2\" />\n          <folding>\n            <element signature=\"e#0#20#0\" expanded=\"true\" />\n          </folding>\n        </state>\n      </provider>\n    </entry>\n    <entry file=\"file://$PROJECT_DIR$/config.yaml\">\n      <provider selected=\"true\" editor-type-id=\"text-editor\">\n        <state>\n          <caret column=\"15\" selection-start-column=\"15\" selection-end-column=\"15\" />\n        </state>\n      </provider>\n    </entry>\n    <entry file=\"file://$PROJECT_DIR$/features/test_data/test2_expected_result.json\">\n      <provider selected=\"true\" editor-type-id=\"text-editor\">\n        <state relative-caret-position=\"17\">\n          <caret line=\"1\" column=\"20\" selection-start-line=\"1\" selection-start-column=\"20\" selection-end-line=\"1\" selection-end-column=\"20\" />\n        </state>\n      </provider>\n    </entry>\n    <entry file=\"file://$PROJECT_DIR$/features/test_data/test1_expected_result.json\">\n      <provider selected=\"true\" editor-type-id=\"text-editor\">\n        <state relative-caret-position=\"17\">\n          <caret line=\"1\" column=\"20\" selection-start-line=\"1\" selection-start-column=\"20\" selection-end-line=\"1\" selection-end-column=\"20\" />\n        </state>\n      </provider>\n    </entry>\n    <entry file=\"file://$PROJECT_DIR$/package.json\">\n      <provider selected=\"true\" editor-type-id=\"text-editor\">\n        <state relative-caret-position=\"34\">\n          <caret line=\"2\" column=\"19\" selection-start-line=\"2\" selection-start-column=\"19\" selection-end-line=\"2\" selection-end-column=\"19\" />\n        </state>\n      </provider>\n    </entry>\n    <entry file=\"file://$PROJECT_DIR$/features/dataMask.feature\">\n      <provider selected=\"true\" editor-type-id=\"text-editor\">\n        <state relative-caret-position=\"714\">\n          <caret line=\"42\" column=\"33\" selection-start-line=\"42\" selection-start-column=\"33\" selection-end-line=\"42\" selection-end-column=\"33\" />\n        </state>\n      </provider>\n    </entry>\n    <entry file=\"file://$PROJECT_DIR$/src/logwinston.ts\">\n      <provider selected=\"true\" editor-type-id=\"text-editor\">\n        <state relative-caret-position=\"867\">\n          <caret line=\"53\" column=\"38\" selection-start-line=\"53\" selection-start-column=\"38\" selection-end-line=\"53\" selection-end-column=\"38\" />\n          <folding>\n            <element signature=\"e#0#57#0\" expanded=\"true\" />\n          </folding>\n        </state>\n      </provider>\n    </entry>\n    <entry file=\"file://$PROJECT_DIR$/README.md\">\n      <provider selected=\"true\" editor-type-id=\"split-provider[text-editor;markdown-preview-editor]\">\n        <state split_layout=\"SPLIT\">\n          <first_editor relative-caret-position=\"153\">\n            <caret line=\"9\" selection-start-line=\"9\" selection-end-line=\"9\" />\n          </first_editor>\n          <second_editor />\n        </state>\n      </provider>\n    </entry>\n    <entry file=\"file://$PROJECT_DIR$/src/data-mask.ts\">\n      <provider selected=\"true\" editor-type-id=\"text-editor\">\n        <state relative-caret-position=\"51\">\n          <caret line=\"4\" selection-start-line=\"4\" selection-end-line=\"4\" />\n          <folding>\n            <element signature=\"e#0#40#0\" expanded=\"true\" />\n          </folding>\n        </state>\n      </provider>\n    </entry>\n    <entry file=\"file://$PROJECT_DIR$/src/custom-regexp-patterns.ts\">\n      <provider selected=\"true\" editor-type-id=\"text-editor\">\n        <state relative-caret-position=\"17\">\n          <caret line=\"1\" selection-start-line=\"1\" selection-end-line=\"1\" />\n        </state>\n      </provider>\n    </entry>\n    <entry file=\"file://$PROJECT_DIR$/features/test_data/test2.json\">\n      <provider selected=\"true\" editor-type-id=\"text-editor\">\n        <state relative-caret-position=\"340\">\n          <caret line=\"20\" column=\"3\" selection-start-line=\"20\" selection-start-column=\"3\" selection-end-line=\"20\" selection-end-column=\"3\" />\n        </state>\n      </provider>\n    </entry>\n    <entry file=\"file://$PROJECT_DIR$/src/app.ts\">\n      <provider selected=\"true\" editor-type-id=\"text-editor\" />\n    </entry>\n  </component>\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/workspace.xml b/.idea/workspace.xml
--- a/.idea/workspace.xml	(revision 0bed964e0bba04abc32f5760617710073a894448)
+++ b/.idea/workspace.xml	(date 1698571810834)
@@ -5,14 +5,15 @@
   </component>
   <component name="ChangeListManager">
     <list default="true" id="6a030fe2-ff4b-4bbe-81c7-5e4be9c7b390" name="Default Changelist" comment="">
-      <change afterPath="$PROJECT_DIR$/test/test-fee-engine/featues/step_definitions/holdingPeriod.steps.ts" afterDir="false" />
-      <change afterPath="$PROJECT_DIR$/test/test-fee-engine/featues/test.dsc.feature" afterDir="false" />
-      <change afterPath="$PROJECT_DIR$/test/test-fee-engine/featues/test.holdingPeriod.feature" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/diagram/context.puml" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/diagram/plan.puml" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/src/app/app-fee-engine/DSCCalculator.ts" beforeDir="false" afterPath="$PROJECT_DIR$/src/app/app-fee-engine/DSCCalculator.ts" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/src/app/app-fee-engine/app.fee.engine.ts" beforeDir="false" afterPath="$PROJECT_DIR$/src/app/app-fee-engine/app.fee.engine.ts" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/src/app/app-fee-txn/app.fee.txn.ts" beforeDir="false" />
-      <change beforePath="$PROJECT_DIR$/src/app/app-fee/app.fee.ts" beforeDir="false" afterPath="$PROJECT_DIR$/src/app/app-fee/app.fee.ts" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/diagram/sample.dot" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/app/app-etl/app.etl.ts" beforeDir="false" afterPath="$PROJECT_DIR$/src/app/app-etl/app.etl.ts" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/app/app-etl/appEtlConfig.ts" beforeDir="false" afterPath="$PROJECT_DIR$/src/app/app-etl/appEtlConfig.ts" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/app/app-etl/config.etl.yaml" beforeDir="false" afterPath="$PROJECT_DIR$/src/app/app-etl/config.etl.yaml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/app/app-etl/etlProcesser.ts" beforeDir="false" afterPath="$PROJECT_DIR$/src/app/app-etl/etlProcesser.ts" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/app/app-etl/iRecordType.ts" beforeDir="false" afterPath="$PROJECT_DIR$/src/app/app-etl/iRecordType.ts" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/test/test-json/features/test_data/out-1level.xlsx" beforeDir="false" afterPath="$PROJECT_DIR$/test/test-json/features/test_data/out-1level.xlsx" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/test/test-json/features/test_data/out-2level.xlsx" beforeDir="false" afterPath="$PROJECT_DIR$/test/test-json/features/test_data/out-2level.xlsx" afterDir="false" />
     </list>
@@ -100,6 +101,7 @@
         <option value="JavaScript File" />
         <option value="tsconfig.json" />
         <option value="TypeScript File" />
+        <option value="UML Gantt" />
       </list>
     </option>
   </component>
@@ -164,6 +166,9 @@
   <component name="ProblemsViewState">
     <option name="selectedTabId" value="CurrentFile" />
   </component>
+  <component name="ProjectColorInfo"><![CDATA[{
+  "associatedIndex": 4
+}]]></component>
   <component name="ProjectFrameBounds" extendedState="6">
     <option name="x" value="1738" />
     <option name="y" value="-338" />
@@ -219,6 +224,8 @@
   </component>
   <component name="PropertiesComponent"><![CDATA[{
   "keyToString": {
+    "ASKED_ADD_EXTERNAL_FILES": "true",
+    "DefaultPlantUmlFileTemplate": "UML Gantt",
     "SHARE_PROJECT_CONFIGURATION_FILES": "true",
     "ToolWindowCommit.ShowToolbar": "false",
     "WebServerToolWindowFactoryState": "false",
@@ -234,6 +241,7 @@
     "nodejs.jest.jest_package": "/Users/joeylam/repo/njs/njstool/node_modules/jest",
     "nodejs_package_manager_path": "npm",
     "run.code.analysis.last.selected.profile": "pProject Default",
+    "settings.editor.selected.configurable": "com.github.copilot.settings.ApplicationConfigurable",
     "ts.external.directory.path": "/Users/joeylam/repo/njs/njstool/node_modules/typescript/lib",
     "vue.rearranger.settings.migration": "true"
   },
@@ -259,7 +267,7 @@
       <recent name="$PROJECT_DIR$/src/app/app-mask" />
     </key>
   </component>
-  <component name="RunManager" selected="npm.start:fee-engine">
+  <component name="RunManager" selected="npm.generate-cucumber-html">
     <configuration name="app.fee.feature" type="cucumber.js" factoryName="Cucumber.js">
       <option name="myFilePath" value="$PROJECT_DIR$/test/test-fee/features/app.fee.feature" />
       <option name="myNameFilter" value="" />
@@ -305,31 +313,31 @@
       <envs />
       <method v="2" />
     </configuration>
-    <configuration name="start:fee" type="js.build_tools.npm" temporary="true" nameIsGenerated="true">
+    <configuration name="test" type="js.build_tools.npm" nameIsGenerated="true">
       <package-json value="$PROJECT_DIR$/package.json" />
       <command value="run" />
       <scripts>
-        <script value="start:fee" />
+        <script value="test" />
       </scripts>
       <node-interpreter value="project" />
       <envs />
       <method v="2" />
     </configuration>
-    <configuration name="test" type="js.build_tools.npm" nameIsGenerated="true">
+    <configuration name="test:cucumber" type="js.build_tools.npm" temporary="true" nameIsGenerated="true">
       <package-json value="$PROJECT_DIR$/package.json" />
       <command value="run" />
       <scripts>
-        <script value="test" />
+        <script value="test:cucumber" />
       </scripts>
       <node-interpreter value="project" />
       <envs />
       <method v="2" />
     </configuration>
-    <configuration name="test:cucumber" type="js.build_tools.npm" temporary="true" nameIsGenerated="true">
+    <configuration name="test:jest" type="js.build_tools.npm" temporary="true" nameIsGenerated="true">
       <package-json value="$PROJECT_DIR$/package.json" />
       <command value="run" />
       <scripts>
-        <script value="test:cucumber" />
+        <script value="test:jest" />
       </scripts>
       <node-interpreter value="project" />
       <envs />
@@ -339,19 +347,19 @@
       <item itemvalue="Cucumber.js.app.fee.feature" />
       <item itemvalue="Docker.docker-compose.yml: Compose Deployment" />
       <item itemvalue="npm.test" />
-      <item itemvalue="npm.merge-reports" />
       <item itemvalue="npm.start:fee-engine" />
+      <item itemvalue="npm.test:jest" />
+      <item itemvalue="npm.merge-reports" />
       <item itemvalue="npm.generate-cucumber-html" />
-      <item itemvalue="npm.start:fee" />
       <item itemvalue="npm.test:cucumber" />
     </list>
     <recent_temporary>
       <list>
         <item itemvalue="npm.start:fee-engine" />
-        <item itemvalue="npm.merge-reports" />
         <item itemvalue="npm.generate-cucumber-html" />
+        <item itemvalue="npm.merge-reports" />
         <item itemvalue="npm.test:cucumber" />
-        <item itemvalue="npm.start:fee" />
+        <item itemvalue="npm.test:jest" />
       </list>
     </recent_temporary>
   </component>
@@ -400,14 +408,19 @@
       <workItem from="1687008293893" duration="2420000" />
       <workItem from="1687406905826" duration="1199000" />
       <workItem from="1688802939352" duration="81000" />
-      <workItem from="1688832310145" duration="13815000" />
-    </task>
-    <task id="LOCAL-00081" summary="improve the log file name">
-      <created>1684152044204</created>
-      <option name="number" value="00081" />
-      <option name="presentableId" value="LOCAL-00081" />
-      <option name="project" value="LOCAL" />
-      <updated>1684152044204</updated>
+      <workItem from="1688832310145" duration="14730000" />
+      <workItem from="1697364493980" duration="336000" />
+      <workItem from="1697364892841" duration="234000" />
+      <workItem from="1697856528324" duration="118000" />
+      <workItem from="1697856658644" duration="691000" />
+      <workItem from="1697857767728" duration="940000" />
+      <workItem from="1697870265824" duration="1100000" />
+      <workItem from="1697871376584" duration="1943000" />
+      <workItem from="1697884087658" duration="1478000" />
+      <workItem from="1697885609275" duration="1449000" />
+      <workItem from="1697888023907" duration="498000" />
+      <workItem from="1698569201809" duration="106000" />
+      <workItem from="1698569376430" duration="739000" />
     </task>
     <task id="LOCAL-00082" summary="improvver logger">
       <created>1684152075146</created>
@@ -745,7 +758,14 @@
       <option name="project" value="LOCAL" />
       <updated>1688844856713</updated>
     </task>
-    <option name="localTasksCounter" value="130" />
+    <task id="LOCAL-00130" summary="add cucumber test">
+      <created>1688846655959</created>
+      <option name="number" value="00130" />
+      <option name="presentableId" value="LOCAL-00130" />
+      <option name="project" value="LOCAL" />
+      <updated>1688846655959</updated>
+    </task>
+    <option name="localTasksCounter" value="131" />
     <servers />
   </component>
   <component name="TimeTrackingManager">
@@ -780,7 +800,6 @@
     <option name="version" value="3" />
   </component>
   <component name="VcsManagerConfiguration">
-    <MESSAGE value="add new feeCal function." />
     <MESSAGE value="fix the syntax error" />
     <MESSAGE value="fix the reading excel function" />
     <MESSAGE value="reflector to change tradeDate from string to Date" />
@@ -805,7 +824,8 @@
     <MESSAGE value="add deducedUnits to show the pass-in deduction." />
     <MESSAGE value="code reflector to separate the type and enum to another files" />
     <MESSAGE value="code reflector to include txn details in DSCCalculator.ts" />
-    <option name="LAST_COMMIT_MESSAGE" value="code reflector to include txn details in DSCCalculator.ts" />
+    <MESSAGE value="add cucumber test" />
+    <option name="LAST_COMMIT_MESSAGE" value="add cucumber test" />
   </component>
   <component name="XDebuggerManager">
     <breakpoint-manager>
Index: diagram/context.puml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/diagram/context.puml b/diagram/context.puml
new file mode 100644
--- /dev/null	(date 1697871367606)
+++ b/diagram/context.puml	(date 1697871367606)
@@ -0,0 +1,6 @@
+@startuml test-context
+
+System(ifunds, "iFUNDS website")
+
+
+@enduml
Index: src/app/app-etl/app.etl.ts
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import { ConfigHelper } from \"../lib/configHelper\";\nimport { AppEtlConfig } from \"./appEtlConfig\";\nimport { Logger } from \"../lib/logger\";\nimport { ETLProcesser, FileProcessorConfig } from \"./etlProcesser\";\nimport { iAccount, iHolding } from \"./iRecordType\";\nimport PostgresUploader from \"../lib/postgresUploader\";\nimport ExcelReader from \"../lib/excelReader\";\n\n(async () => {\n    const configFile = 'src/app/app-etl/config.etl.yaml';\n    const configHelper = new ConfigHelper(configFile);\n    await configHelper.load();\n    const config = configHelper.getConfig() as AppEtlConfig;\n\n    const loggerFactory = LoggerFactory.getInstance(configFile);\n    const logger = loggerFactory.getLogger();\n\n    const accountConfig: FileProcessorConfig = {\n        fileName: config.dataFilePath.accountFile,\n        query: 'INSERT INTO account (account_cd, account_nm) VALUES ($1, $2)',\n        tableName: 'account',\n        columnNames: ['account_cd', 'account_nm'],\n        rowMapper: (row: iAccount) => {\n            return {\n                bulkUploadRow: {\n                    account_cd: row.account_cd,\n                    account_nm: row.account_nm,\n                },\n                uploadDataRow: [row.account_cd, row.account_nm],\n            };\n        },\n        truncateTable: true,\n        isBulkUpload: false, // or 'bulk' for bulkUpload\n    };\n\n    const holdingConfig: FileProcessorConfig = {\n        fileName: config.dataFilePath.holdingFile,\n        query: 'INSERT INTO holding (account_cd, stock_cd, exchange, unit, book_cost) VALUES ($1, $2, $3, $4, $5)',\n        tableName: 'holding',\n        columnNames: ['account_cd', 'stock_cd', 'exchange', 'unit', 'book_cost'],\n        rowMapper: (row: iHolding) => {\n            return {\n                bulkUploadRow: {\n                    account_cd: row.account_cd,\n                    stock_cd: row.stock_cd,\n                    exchange: row.exchange,\n                    unit: row.unit,\n                    book_cost: row.book_cost\n                },\n                uploadDataRow: [row.account_cd, row.stock_cd, row.exchange, row.unit, row.book_cost]\n            };\n        },\n        truncateTable: true,\n        isBulkUpload: false, // or 'bulk' for bulkUpload\n    };\n\n\n    logger.info('initialization')\n    const accountReader = new ExcelReader(accountConfig.fileName);\n    const accountUploader = new PostgresUploader(config.database);\n    const accountProcessor = new ETLProcesser(accountConfig, accountUploader, accountReader);\n\n    const holdingReader = new ExcelReader(holdingConfig.fileName);\n    const holdingUploader = new PostgresUploader(config.database);\n    const holdingProcessor = new ETLProcesser(holdingConfig, holdingUploader, holdingReader);\n\n    logger.info('start upload account and holding');\n    await Promise.all([\n        accountProcessor.process(),\n        holdingProcessor.process()\n    ]);\n\n    logger.info('done');\n})();\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/app/app-etl/app.etl.ts b/src/app/app-etl/app.etl.ts
--- a/src/app/app-etl/app.etl.ts	(revision 0bed964e0bba04abc32f5760617710073a894448)
+++ b/src/app/app-etl/app.etl.ts	(date 1698571730366)
@@ -1,10 +1,10 @@
-import { ConfigHelper } from "../lib/configHelper";
-import { AppEtlConfig } from "./appEtlConfig";
-import { Logger } from "../lib/logger";
-import { ETLProcesser, FileProcessorConfig } from "./etlProcesser";
-import { iAccount, iHolding } from "./iRecordType";
+import {ConfigHelper} from "../lib/configHelper";
+import {AppEtlConfig} from "./appEtlConfig";
+import {ETLProcesser, FileProcessorConfig} from "./etlProcesser";
+import {iAccount, iHolding} from "./iRecordType";
 import PostgresUploader from "../lib/postgresUploader";
 import ExcelReader from "../lib/excelReader";
+import LoggerFactory from "../lib/logger";
 
 (async () => {
     const configFile = 'src/app/app-etl/config.etl.yaml';
Index: src/app/app-etl/etlProcesser.ts
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import { Logger } from \"../lib/logger\";\nimport { iUploader } from \"../app-interface/iETL\";\nimport ExcelReader from \"../lib/excelReader\";\nimport {iDataReader} from \"../app-interface/iETL\";\n\nexport interface FileProcessorConfig {\n    fileName: string;\n    query: string;\n    tableName: string;\n    columnNames: string[];\n    rowMapper: (row: any) => any;\n    truncateTable?: boolean;\n    isBulkUpload: boolean;\n}\n\nexport class ETLProcesser {\n    private config: FileProcessorConfig;\n    private dataReader: iDataReader;\n    private uploader: iUploader;\n    private logger;\n\n    constructor(config: FileProcessorConfig, uploader: iUploader, dataReader: iDataReader) {\n        this.config = config;\n        this.uploader = uploader;\n        this.dataReader = dataReader;\n        this.logger = LoggerFactory.getInstance().getLogger();\n    }\n\n    public async process(): Promise<void> {\n        const excelReader = new ExcelReader(this.config.fileName);\n        const data = await this.dataReader.extractData();\n\n        try {\n            await this.uploader.connect();\n\n            if (this.config.truncateTable) {\n                await this.uploader.truncateTable(this.config.tableName);\n                this.logger.info(`Table [${this.config.tableName}] truncated.`);\n            }\n\n            if (this.config.isBulkUpload) {\n                await this.uploader.bulkUpload(data, this.config.tableName, this.config.columnNames, this.config.rowMapper);\n            } else  {\n                await this.uploader.uploadData(data, this.config.query, this.config.rowMapper);\n            }\n\n            this.logger.info(`Data from [${this.config.fileName}] uploaded to PostgreSQL successfully.`)\n        } catch (error: any) {\n            this.logger.error(`Error uploading data from [${this.config.fileName}] to PostgreSQL: ${error}`);\n            this.logger.error(`Stack trace: ${error.stack}`);\n        } finally {\n            await this.uploader.disconnect();\n        }\n    }\n}\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/app/app-etl/etlProcesser.ts b/src/app/app-etl/etlProcesser.ts
--- a/src/app/app-etl/etlProcesser.ts	(revision 0bed964e0bba04abc32f5760617710073a894448)
+++ b/src/app/app-etl/etlProcesser.ts	(date 1698571810788)
@@ -1,7 +1,7 @@
-import { Logger } from "../lib/logger";
-import { iUploader } from "../app-interface/iETL";
+import {iUploader} from "../app-interface/iETL";
 import ExcelReader from "../lib/excelReader";
 import {iDataReader} from "../app-interface/iETL";
+import LoggerFactory from "../lib/logger";
 
 export interface FileProcessorConfig {
     fileName: string;
@@ -40,7 +40,7 @@
 
             if (this.config.isBulkUpload) {
                 await this.uploader.bulkUpload(data, this.config.tableName, this.config.columnNames, this.config.rowMapper);
-            } else  {
+            } else {
                 await this.uploader.uploadData(data, this.config.query, this.config.rowMapper);
             }
 
Index: src/app/app-etl/config.etl.yaml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+># config.etl.yaml\nversion: \"1.0\"\nlogger:\n  logLevel: \"debug\"\n  logFile: \"log/app.etl\"\ndatabase:\n  host: 'localhost'\n  port: 5432\n  user: 'postgres'\n  password: 'dbadmin1234'\n  database: 'postgres'\ndataFilePath:\n    accountFile: 'test/test-etl/test-data/account-data.xlsx'\n    holdingFile: 'test/test-etl/test-data/holding-data.xlsx'\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/app/app-etl/config.etl.yaml b/src/app/app-etl/config.etl.yaml
--- a/src/app/app-etl/config.etl.yaml	(revision 0bed964e0bba04abc32f5760617710073a894448)
+++ b/src/app/app-etl/config.etl.yaml	(date 1698571730370)
@@ -10,5 +10,5 @@
   password: 'dbadmin1234'
   database: 'postgres'
 dataFilePath:
-    accountFile: 'test/test-etl/test-data/account-data.xlsx'
-    holdingFile: 'test/test-etl/test-data/holding-data.xlsx'
+  accountFile: 'test/test-etl/test-data/account-data.xlsx'
+  holdingFile: 'test/test-etl/test-data/holding-data.xlsx'
Index: src/app/app-etl/iRecordType.ts
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>\nexport interface iAccount {\n    account_cd: string;\n    account_nm: string;\n}\n\nexport interface iHolding {\n    account_cd: string;\n    stock_cd: string;\n    exchange: string;\n    unit: number;\n    book_cost: number;\n}\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/app/app-etl/iRecordType.ts b/src/app/app-etl/iRecordType.ts
--- a/src/app/app-etl/iRecordType.ts	(revision 0bed964e0bba04abc32f5760617710073a894448)
+++ b/src/app/app-etl/iRecordType.ts	(date 1698571730358)
@@ -1,4 +1,3 @@
-
 export interface iAccount {
     account_cd: string;
     account_nm: string;
Index: diagram/plan.puml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/diagram/plan.puml b/diagram/plan.puml
new file mode 100644
--- /dev/null	(date 1697883232179)
+++ b/diagram/plan.puml	(date 1697883232179)
@@ -0,0 +1,10 @@
+@startgantt
+'https://plantuml.com/gantt-diagram
+
+[Prototype design] lasts 13 days and is colored in Lavender/LightBlue
+[Test prototype] lasts 9 days and is colored in Coral/Green and starts 3 days after [Prototype design]'s end
+[Write tests] lasts 5 days and ends at [Prototype design]'s end
+[Hire tests writers] lasts 6 days and ends at [Write tests]'s start
+[Init and write tests report] is colored in Coral/Green
+[Init and write tests report] starts 1 day before [Test prototype]'s start and ends at [Test prototype]'s end
+@endgantt
Index: src/app/app-etl/appEtlConfig.ts
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import { BaseConfig } from \"../lib/configHelper\";\n\nexport interface AppEtlConfig extends BaseConfig {\n    database: {\n        host: string;\n        port: number;\n        user: string;\n        password: string;\n        database: string;\n    };\n    dataFilePath: {\n        accountFile: string;\n        holdingFile: string;\n    }\n}\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/app/app-etl/appEtlConfig.ts b/src/app/app-etl/appEtlConfig.ts
--- a/src/app/app-etl/appEtlConfig.ts	(revision 0bed964e0bba04abc32f5760617710073a894448)
+++ b/src/app/app-etl/appEtlConfig.ts	(date 1698571730362)
@@ -1,4 +1,4 @@
-import { BaseConfig } from "../lib/configHelper";
+import {BaseConfig} from "../lib/configHelper";
 
 export interface AppEtlConfig extends BaseConfig {
     database: {
